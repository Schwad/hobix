<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: Hobix::Page [The Book of Hobix]</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;

    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }

  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }<\/style>" )

  // ]]>
  </script>

</head>
<body>


    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">Hobix::Page</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>


                <a href="../../files/lib/hobix/weblog_rb.html">

                lib/hobix/weblog.rb

                </a>


        <br />

            </td>
        </tr>


        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>

                Object

            </td>
        </tr>

        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">

  <div id="contextContent">

    <div id="description">
      <p>
The <a href="Page.html">Page</a> class is very simple class which contains
information specific to a template.
</p>
<h2>Introduction</h2>
<p>
The <tt>id</tt>, <tt>next</tt> and <tt>prev</tt> accessors provide ids for
the current page and its neighbors (for example, in the case of monthly
archives, which may have surrounding months.)
</p>
<p>
To get complete URLs for each of the above, use: <tt>link</tt>, <tt><a
href="Page.html#M000277">next_link</a></tt>, and <tt><a
href="Page.html#M000278">prev_link</a></tt>.
</p>
<p>
The <tt>timestamp</tt> accessor contains the earliest date pertinent to the
page. For example, in the case of a monthly archive, it will contain a
<tt>Time</tt> object for the first day of the month. In the case of the
`index&#8217; page, you&#8217;ll get a Time object for the earliest entry
on the page.
</p>
<p>
The <tt>updated</tt> accessor contains the latest date pertinent to the
page. Usually this would be the most recent modification time among entries
on the page. This accessor is used by the regeneration system to determine
if a page needs regeneration. See +<a
href="Weblog.html#M000157">Hobix::Weblog#regenerate</a>+ for more.
</p>
<h2>Context in <a href="../Hobix.html">Hobix</a></h2>
<p>
There are only two places you&#8217;ll encounter this class in <a
href="../Hobix.html">Hobix</a>.
</p>
<p>
If you are writing an output plugin, a <a href="Page.html">Page</a> class
is passed in the <em>vars</em> hash to the +BaseOutput#load+ method.
You&#8217;ll find the class in vars[:page].
</p>
<p>
If you are writing ERB or RedRum templates, these vars are passed into the
templates. The <a href="Page.html">Page</a> class is accessible as a
variable called `page&#8217;.
</p>
<h1>Examples</h1>
<h2>Example 1: Pagination in a Template</h2>
<p>
Let&#8217;s say we want every entry in our site to contain links to the
entries which are chronologically nearby.
</p>
<p>
If we&#8217;re using RedRum templates, we could do the following in
entry.html.redrum:
</p>
<pre>
  &lt;% if page.prev %&gt;&quot;last&quot;:&lt;%= page.prev_link %&gt;&lt;% end %&gt;
  &lt;% if page.next %&gt;&quot;next&quot;:&lt;%= page.next_link %&gt;&lt;% end %&gt;
</pre>

    </div>

   </div>


    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">

        <a href="#M000275">id</a>&nbsp;&nbsp;

        <a href="#M000276">link</a>&nbsp;&nbsp;

        <a href="#M000274">new</a>&nbsp;&nbsp;

        <a href="#M000277">next_link</a>&nbsp;&nbsp;

        <a href="#M000278">prev_link</a>&nbsp;&nbsp;

        <a href="#M000279">reference_fields</a>&nbsp;&nbsp;

        <a href="#M000280">references</a>&nbsp;&nbsp;

      </div>
    </div>

  </div>

    <!-- if includes -->

    <div id="section">



    <div id="attribute-list">
      <h3 class="section-bar">Attributes</h3>

      <div class="name-list">
        <table>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">id</td>

          <td class="context-item-value">&nbsp;[R]&nbsp;</td>

          <td class="context-item-desc"></td>
        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">link</td>

          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>

          <td class="context-item-desc"></td>
        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">next</td>

          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>

          <td class="context-item-desc"></td>
        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">prev</td>

          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>

          <td class="context-item-desc"></td>
        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">timestamp</td>

          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>

          <td class="context-item-desc"></td>
        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">updated</td>

          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>

          <td class="context-item-desc"></td>
        </tr>

        </table>
      </div>
    </div>


    <!-- if method_list -->

    <div id="methods">

      <h3 class="section-bar">Public Class methods</h3>


      <div id="method-M000274" class="method-detail">
        <a name="M000274"></a>

        <div class="method-heading">

          <a href="#M000274" class="method-signature">

          <span class="method-name">new</span><span class="method-args">( id, dir='.' )</span>

          </a>

        </div>

        <div class="method-description">

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000274-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000274-source">
<pre>
    <span class="ruby-comment cmt"># File lib/hobix/weblog.rb, line 97</span>
97:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>( <span class="ruby-identifier">id</span>, <span class="ruby-identifier">dir</span>=<span class="ruby-value str">'.'</span> )
98:         <span class="ruby-ivar">@id</span>, <span class="ruby-ivar">@dir</span> = <span class="ruby-identifier">id</span>, <span class="ruby-identifier">dir</span>
99:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <h3 class="section-bar">Public Instance methods</h3>


      <div id="method-M000275" class="method-detail">
        <a name="M000275"></a>

        <div class="method-heading">

          <a href="#M000275" class="method-signature">

          <span class="method-name">id</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000275-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000275-source">
<pre>
     <span class="ruby-comment cmt"># File lib/hobix/weblog.rb, line 100</span>
100:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">id</span>; <span class="ruby-identifier">dirj</span>( <span class="ruby-ivar">@dir</span>, <span class="ruby-ivar">@id</span> ).<span class="ruby-identifier">gsub</span>( <span class="ruby-regexp re">/^\/+/</span>, <span class="ruby-value str">''</span> ); <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000276" class="method-detail">
        <a name="M000276"></a>

        <div class="method-heading">

          <a href="#M000276" class="method-signature">

          <span class="method-name">link</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000276-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000276-source">
<pre>
     <span class="ruby-comment cmt"># File lib/hobix/weblog.rb, line 101</span>
101:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">link</span>; <span class="ruby-identifier">dirj</span>( <span class="ruby-ivar">@dir</span>, <span class="ruby-ivar">@id</span> ) <span class="ruby-operator">+</span> <span class="ruby-ivar">@ext</span>; <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000277" class="method-detail">
        <a name="M000277"></a>

        <div class="method-heading">

          <a href="#M000277" class="method-signature">

          <span class="method-name">next_link</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000277-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000277-source">
<pre>
     <span class="ruby-comment cmt"># File lib/hobix/weblog.rb, line 102</span>
102:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">next_link</span>; <span class="ruby-identifier">dirj</span>( <span class="ruby-ivar">@dir</span>, <span class="ruby-ivar">@next</span> ) <span class="ruby-operator">+</span> <span class="ruby-ivar">@ext</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@next</span>; <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000278" class="method-detail">
        <a name="M000278"></a>

        <div class="method-heading">

          <a href="#M000278" class="method-signature">

          <span class="method-name">prev_link</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000278-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000278-source">
<pre>
     <span class="ruby-comment cmt"># File lib/hobix/weblog.rb, line 103</span>
103:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">prev_link</span>; <span class="ruby-identifier">dirj</span>( <span class="ruby-ivar">@dir</span>, <span class="ruby-ivar">@prev</span> ) <span class="ruby-operator">+</span> <span class="ruby-ivar">@ext</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@prev</span>; <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000279" class="method-detail">
        <a name="M000279"></a>

        <div class="method-heading">

          <a href="#M000279" class="method-signature">

          <span class="method-name">reference_fields</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000279-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000279-source">
<pre>
     <span class="ruby-comment cmt"># File lib/hobix/weblog.rb, line 113</span>
113:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">reference_fields</span>; [<span class="ruby-identifier">:next</span>, <span class="ruby-identifier">:prev</span>]; <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000280" class="method-detail">
        <a name="M000280"></a>

        <div class="method-heading">

          <a href="#M000280" class="method-signature">

          <span class="method-name">references</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000280-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000280-source">
<pre>
     <span class="ruby-comment cmt"># File lib/hobix/weblog.rb, line 114</span>
114:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">references</span>; <span class="ruby-identifier">reference_fields</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">send</span> <span class="ruby-identifier">f</span> }.<span class="ruby-identifier">compact</span>; <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>



    </div>




  </div>

<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>
