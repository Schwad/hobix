<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: Hobix::WebApp [The Book of Hobix]</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;

    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }

  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }<\/style>" )

  // ]]>
  </script>

</head>
<body>


    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">Hobix::WebApp</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>


                <a href="../../files/lib/hobix/webapp_rb.html">

                lib/hobix/webapp.rb

                </a>


        <br />

            </td>
        </tr>


        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>

                Object

            </td>
        </tr>

        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">

  <div id="contextContent">

   </div>


    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">

        <a href="#M000227">&lt;&lt;</a>&nbsp;&nbsp;

        <a href="#M000247">_GET</a>&nbsp;&nbsp;

        <a href="#M000248">_POST</a>&nbsp;&nbsp;

        <a href="#M000267">absuri</a>&nbsp;&nbsp;

        <a href="#M000246">action_uri</a>&nbsp;&nbsp;

        <a href="#M000250">add_header</a>&nbsp;&nbsp;

        <a href="#M000263">check_last_modified</a>&nbsp;&nbsp;

        <a href="#M000252">clear_header</a>&nbsp;&nbsp;

        <a href="#M000257">content_type</a>&nbsp;&nbsp;

        <a href="#M000256">content_type=</a>&nbsp;&nbsp;

        <a href="#M000255">each_header</a>&nbsp;&nbsp;

        <a href="#M000233">each_request_header</a>&nbsp;&nbsp;

        <a href="#M000254">get_header</a>&nbsp;&nbsp;

        <a href="#M000234">get_request_header</a>&nbsp;&nbsp;

        <a href="#M000253">has_header?</a>&nbsp;&nbsp;

        <a href="#M000266">make_absolute_uri</a>&nbsp;&nbsp;

        <a href="#M000264">make_relative_uri</a>&nbsp;&nbsp;

        <a href="#M000259">open_resource</a>&nbsp;&nbsp;

        <a href="#M000240">path_info</a>&nbsp;&nbsp;

        <a href="#M000228">print</a>&nbsp;&nbsp;

        <a href="#M000229">printf</a>&nbsp;&nbsp;

        <a href="#M000230">putc</a>&nbsp;&nbsp;

        <a href="#M000231">puts</a>&nbsp;&nbsp;

        <a href="#M000269">query_html_get_application_x_www_form_urlencoded</a>&nbsp;&nbsp;

        <a href="#M000270">query_html_post_application_x_www_form_urlencoded</a>&nbsp;&nbsp;

        <a href="#M000241">query_string</a>&nbsp;&nbsp;

        <a href="#M000265">reluri</a>&nbsp;&nbsp;

        <a href="#M000243">remote_addr</a>&nbsp;&nbsp;

        <a href="#M000251">remove_header</a>&nbsp;&nbsp;

        <a href="#M000236">request_body</a>&nbsp;&nbsp;

        <a href="#M000244">request_content_type</a>&nbsp;&nbsp;

        <a href="#M000235">request_method</a>&nbsp;&nbsp;

        <a href="#M000245">request_uri</a>&nbsp;&nbsp;

        <a href="#M000258">resource_path</a>&nbsp;&nbsp;

        <a href="#M000239">script_name</a>&nbsp;&nbsp;

        <a href="#M000261">send_not_found</a>&nbsp;&nbsp;

        <a href="#M000260">send_resource</a>&nbsp;&nbsp;

        <a href="#M000262">send_unauthorized</a>&nbsp;&nbsp;

        <a href="#M000237">server_name</a>&nbsp;&nbsp;

        <a href="#M000238">server_port</a>&nbsp;&nbsp;

        <a href="#M000242">server_protocol</a>&nbsp;&nbsp;

        <a href="#M000249">set_header</a>&nbsp;&nbsp;

        <a href="#M000268">setup_redirection</a>&nbsp;&nbsp;

        <a href="#M000232">write</a>&nbsp;&nbsp;

      </div>
    </div>

  </div>

    <!-- if includes -->

    <div id="section">

    <div id="class-list">
      <h3 class="section-bar">Classes and Modules</h3>

      Class <a href="WebApp/QueryString.html" class="link">Hobix::WebApp::QueryString</a><br />
Class <a href="WebApp/QueryValidationFailure.html" class="link">Hobix::WebApp::QueryValidationFailure</a><br />

    </div>

    <div id="constants-list">
      <h3 class="section-bar">Constants</h3>

      <div class="name-list">
        <table summary="Constants">

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">NameChar</td>
          <td>=</td>
          <td class="context-item-value">/[-A-Za-z0-9._:]/</td>

        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">NameExp</td>
          <td>=</td>
          <td class="context-item-value">/[A-Za-z_:]#{NameChar}*/</td>

        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">XmlVersionNum</td>
          <td>=</td>
          <td class="context-item-value">/[a-zA-Z0-9_.:-]+/</td>

        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">XmlVersionInfo_C</td>
          <td>=</td>
          <td class="context-item-value">/\s+version\s*=\s*(?:'(#{XmlVersionNum})'|&quot;(#{XmlVersionNum})&quot;)/</td>

        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">XmlVersionInfo</td>
          <td>=</td>
          <td class="context-item-value">XmlVersionInfo_C.disable_capture</td>

        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">XmlEncName</td>
          <td>=</td>
          <td class="context-item-value">/[A-Za-z][A-Za-z0-9._-]*/</td>

        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">XmlEncodingDecl_C</td>
          <td>=</td>
          <td class="context-item-value">/\s+encoding\s*=\s*(?:&quot;(#{XmlEncName})&quot;|'(#{XmlEncName})')/</td>

        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">XmlEncodingDecl</td>
          <td>=</td>
          <td class="context-item-value">XmlEncodingDecl_C.disable_capture</td>

        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">XmlSDDecl_C</td>
          <td>=</td>
          <td class="context-item-value">/\s+standalone\s*=\s*(?:'(yes|no)'|&quot;(yes|no)&quot;)/</td>

        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">XmlSDDecl</td>
          <td>=</td>
          <td class="context-item-value">XmlSDDecl_C.disable_capture</td>

        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">XmlDecl_C</td>
          <td>=</td>
          <td class="context-item-value">/&lt;\?xml#{XmlVersionInfo_C}#{XmlEncodingDecl_C}?#{XmlSDDecl_C}?\s*\?&gt;/</td>

        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">XmlDecl</td>
          <td>=</td>
          <td class="context-item-value">/&lt;\?xml#{XmlVersionInfo}#{XmlEncodingDecl}?#{XmlSDDecl}?\s*\?&gt;/</td>

        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">SystemLiteral_C</td>
          <td>=</td>
          <td class="context-item-value">/&quot;([^&quot;]*)&quot;|'([^']*)'/</td>

        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">PubidLiteral_C</td>
          <td>=</td>
          <td class="context-item-value">%r{&quot;([\sa-zA-Z0-9\-'()+,./:=?;!*\#@$_%]*)&quot;|'([\sa-zA-Z0-9\-()+,./:=?;!*\#@$_%]*)'}</td>

        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">ExternalID_C</td>
          <td>=</td>
          <td class="context-item-value">/(?:SYSTEM|PUBLIC\s+#{PubidLiteral_C})(?:\s+#{SystemLiteral_C})?/</td>

        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">DocType_C</td>
          <td>=</td>
          <td class="context-item-value">/&lt;!DOCTYPE\s+(#{NameExp})(?:\s+#{ExternalID_C})?\s*(?:\[.*?\]\s*)?&gt;/m</td>

        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">DocType</td>
          <td>=</td>
          <td class="context-item-value">DocType_C.disable_capture</td>

        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">WebAPPDevelopHost</td>
          <td>=</td>
          <td class="context-item-value">ENV['WEBAPP_DEVELOP_HOST']</td>

        </tr>

        </table>
      </div>
    </div>




    <!-- if method_list -->

    <div id="methods">

      <h3 class="section-bar">Public Instance methods</h3>


      <div id="method-M000227" class="method-detail">
        <a name="M000227"></a>

        <div class="method-heading">

          <a href="#M000227" class="method-signature">

          <span class="method-name">&lt;&lt;</span><span class="method-args">(str)</span>

          </a>

        </div>

        <div class="method-description">

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000227-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000227-source">
<pre>
    <span class="ruby-comment cmt"># File lib/hobix/webapp.rb, line 69</span>
69:   <span class="ruby-keyword kw">def</span> <span class="ruby-operator">&lt;&lt;</span>(<span class="ruby-identifier">str</span>) <span class="ruby-ivar">@response_body</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">str</span> <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000247" class="method-detail">
        <a name="M000247"></a>

        <div class="method-heading">

          <a href="#M000247" class="method-signature">

          <span class="method-name">_GET</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000247-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000247-source">
<pre>
     <span class="ruby-comment cmt"># File lib/hobix/webapp.rb, line 94</span>
 94:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">_GET</span>() 
 95:     <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@_get_vars</span>
 96:       <span class="ruby-ivar">@_get_vars</span> = {}
 97:       <span class="ruby-identifier">query_html_get_application_x_www_form_urlencoded</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>, <span class="ruby-identifier">v</span><span class="ruby-operator">|</span>
 98:         <span class="ruby-identifier">v</span>.<span class="ruby-identifier">gsub!</span>( <span class="ruby-regexp re">/\r\n/</span>, <span class="ruby-value str">&quot;\n&quot;</span> ) <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">defined?</span> <span class="ruby-identifier">v</span>.<span class="ruby-identifier">gsub!</span>
 99:         <span class="ruby-ivar">@_get_vars</span>[<span class="ruby-identifier">k</span>] = <span class="ruby-identifier">v</span>
100:       <span class="ruby-keyword kw">end</span>
101:     <span class="ruby-keyword kw">end</span>
102:     <span class="ruby-ivar">@_get_vars</span>
103:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000248" class="method-detail">
        <a name="M000248"></a>

        <div class="method-heading">

          <a href="#M000248" class="method-signature">

          <span class="method-name">_POST</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000248-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000248-source">
<pre>
     <span class="ruby-comment cmt"># File lib/hobix/webapp.rb, line 105</span>
105:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">_POST</span>()
106:     <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@_post_vars</span>
107:       <span class="ruby-ivar">@_post_vars</span> = {}
108:       <span class="ruby-identifier">query_html_post_application_x_www_form_urlencoded</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>, <span class="ruby-identifier">v</span><span class="ruby-operator">|</span>
109:         <span class="ruby-identifier">v</span>.<span class="ruby-identifier">gsub!</span>( <span class="ruby-regexp re">/\r\n/</span>, <span class="ruby-value str">&quot;\n&quot;</span> ) <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">defined?</span> <span class="ruby-identifier">v</span>.<span class="ruby-identifier">gsub!</span>
110:         <span class="ruby-ivar">@_post_vars</span>[<span class="ruby-identifier">k</span>] = <span class="ruby-identifier">v</span>
111:       <span class="ruby-keyword kw">end</span>
112:     <span class="ruby-keyword kw">end</span>
113:     <span class="ruby-ivar">@_post_vars</span>
114:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000267" class="method-detail">
        <a name="M000267"></a>

        <div class="method-heading">

          <span class="method-name">absuri</span><span class="method-args">(hash={})</span>

        </div>

        <div class="method-description">

          <p>
Alias for <a href="WebApp.html#M000266">make_absolute_uri</a>
</p>

        </div>
      </div>


      <div id="method-M000246" class="method-detail">
        <a name="M000246"></a>

        <div class="method-heading">

          <a href="#M000246" class="method-signature">

          <span class="method-name">action_uri</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000246-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000246-source">
<pre>
    <span class="ruby-comment cmt"># File lib/hobix/webapp.rb, line 92</span>
92:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">action_uri</span>() <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">action_uri</span> <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000250" class="method-detail">
        <a name="M000250"></a>

        <div class="method-heading">

          <a href="#M000250" class="method-signature">

          <span class="method-name">add_header</span><span class="method-args">(field_name, field_body)</span>

          </a>

        </div>

        <div class="method-description">

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000250-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000250-source">
<pre>
     <span class="ruby-comment cmt"># File lib/hobix/webapp.rb, line 117</span>
117:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_header</span>(<span class="ruby-identifier">field_name</span>, <span class="ruby-identifier">field_body</span>) <span class="ruby-ivar">@response_header</span>.<span class="ruby-identifier">add</span>(<span class="ruby-identifier">field_name</span>, <span class="ruby-identifier">field_body</span>) <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000263" class="method-detail">
        <a name="M000263"></a>

        <div class="method-heading">

          <a href="#M000263" class="method-signature">

          <span class="method-name">check_last_modified</span><span class="method-args">(last_modified) {|| ...}</span>

          </a>

        </div>

        <div class="method-description">

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000263-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000263-source">
<pre>
     <span class="ruby-comment cmt"># File lib/hobix/webapp.rb, line 211</span>
211:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">check_last_modified</span>(<span class="ruby-identifier">last_modified</span>)
212:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">ims</span> = <span class="ruby-ivar">@request_header</span>[<span class="ruby-value str">'If-Modified-Since'</span>] <span class="ruby-keyword kw">and</span>
213:        ((<span class="ruby-identifier">ims</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">httpdate</span>(<span class="ruby-identifier">ims</span>)) <span class="ruby-keyword kw">rescue</span> <span class="ruby-keyword kw">nil</span>) <span class="ruby-keyword kw">and</span>
214:        <span class="ruby-identifier">last_modified</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-identifier">ims</span>
215:       <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">status_line</span> = <span class="ruby-value str">'304 Not Modified'</span>
216:       <span class="ruby-keyword kw">return</span>
217:     <span class="ruby-keyword kw">end</span>
218:     <span class="ruby-ivar">@response_header</span>.<span class="ruby-identifier">set</span> <span class="ruby-value str">'Last-Modified'</span>, <span class="ruby-identifier">last_modified</span>.<span class="ruby-identifier">httpdate</span>
219:     <span class="ruby-keyword kw">yield</span>
220:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000252" class="method-detail">
        <a name="M000252"></a>

        <div class="method-heading">

          <a href="#M000252" class="method-signature">

          <span class="method-name">clear_header</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000252-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000252-source">
<pre>
     <span class="ruby-comment cmt"># File lib/hobix/webapp.rb, line 119</span>
119:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">clear_header</span>() <span class="ruby-ivar">@response_header</span>.<span class="ruby-identifier">clear</span> <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000257" class="method-detail">
        <a name="M000257"></a>

        <div class="method-heading">

          <a href="#M000257" class="method-signature">

          <span class="method-name">content_type</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000257-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000257-source">
<pre>
     <span class="ruby-comment cmt"># File lib/hobix/webapp.rb, line 129</span>
129:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">content_type</span>
130:     <span class="ruby-ivar">@response_header</span>[<span class="ruby-value str">'Content-Type'</span>]
131:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000256" class="method-detail">
        <a name="M000256"></a>

        <div class="method-heading">

          <a href="#M000256" class="method-signature">

          <span class="method-name">content_type=</span><span class="method-args">(media_type)</span>

          </a>

        </div>

        <div class="method-description">

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000256-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000256-source">
<pre>
     <span class="ruby-comment cmt"># File lib/hobix/webapp.rb, line 126</span>
126:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">content_type=</span>(<span class="ruby-identifier">media_type</span>)
127:     <span class="ruby-ivar">@response_header</span>.<span class="ruby-identifier">set</span> <span class="ruby-value str">'Content-Type'</span>, <span class="ruby-identifier">media_type</span>
128:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000255" class="method-detail">
        <a name="M000255"></a>

        <div class="method-heading">

          <a href="#M000255" class="method-signature">

          <span class="method-name">each_header</span><span class="method-args">() {|field_name, field_body| ...}</span>

          </a>

        </div>

        <div class="method-description">

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000255-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000255-source">
<pre>
     <span class="ruby-comment cmt"># File lib/hobix/webapp.rb, line 122</span>
122:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">each_header</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) <span class="ruby-comment cmt"># :yields: field_name, field_body</span>
123:     <span class="ruby-ivar">@response_header</span>.<span class="ruby-identifier">each</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
124:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000233" class="method-detail">
        <a name="M000233"></a>

        <div class="method-heading">

          <a href="#M000233" class="method-signature">

          <span class="method-name">each_request_header</span><span class="method-args">() {|field_name, field_body| ...}</span>

          </a>

        </div>

        <div class="method-description">

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000233-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000233-source">
<pre>
    <span class="ruby-comment cmt"># File lib/hobix/webapp.rb, line 76</span>
76:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">each_request_header</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) <span class="ruby-comment cmt"># :yields: field_name, field_body</span>
77:     <span class="ruby-ivar">@request_header</span>.<span class="ruby-identifier">each</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
78:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000254" class="method-detail">
        <a name="M000254"></a>

        <div class="method-heading">

          <a href="#M000254" class="method-signature">

          <span class="method-name">get_header</span><span class="method-args">(field_name)</span>

          </a>

        </div>

        <div class="method-description">

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000254-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000254-source">
<pre>
     <span class="ruby-comment cmt"># File lib/hobix/webapp.rb, line 121</span>
121:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_header</span>(<span class="ruby-identifier">field_name</span>) <span class="ruby-ivar">@response_header</span>[<span class="ruby-identifier">field_name</span>] <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000234" class="method-detail">
        <a name="M000234"></a>

        <div class="method-heading">

          <a href="#M000234" class="method-signature">

          <span class="method-name">get_request_header</span><span class="method-args">(field_name)</span>

          </a>

        </div>

        <div class="method-description">

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000234-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000234-source">
<pre>
    <span class="ruby-comment cmt"># File lib/hobix/webapp.rb, line 79</span>
79:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_request_header</span>(<span class="ruby-identifier">field_name</span>) <span class="ruby-ivar">@request_header</span>[<span class="ruby-identifier">field_name</span>] <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000253" class="method-detail">
        <a name="M000253"></a>

        <div class="method-heading">

          <a href="#M000253" class="method-signature">

          <span class="method-name">has_header?</span><span class="method-args">(field_name)</span>

          </a>

        </div>

        <div class="method-description">

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000253-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000253-source">
<pre>
     <span class="ruby-comment cmt"># File lib/hobix/webapp.rb, line 120</span>
120:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">has_header?</span>(<span class="ruby-identifier">field_name</span>) <span class="ruby-ivar">@response_header</span>.<span class="ruby-identifier">has?</span>(<span class="ruby-identifier">field_name</span>) <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000266" class="method-detail">
        <a name="M000266"></a>

        <div class="method-heading">

          <a href="#M000266" class="method-signature">

          <span class="method-name">make_absolute_uri(:script=>string, :path_info=>string, :query=>query, :fragment=>string) &rarr; URI<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
<a href="WebApp.html#M000266">make_absolute_uri</a> returns a absolute URI
which base URI is the URI of the web application is invoked.
</p>
<p>
The argument is same as make_relative_uri.
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000266-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000266-source">
<pre>
     <span class="ruby-comment cmt"># File lib/hobix/webapp.rb, line 274</span>
274:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">make_absolute_uri</span>(<span class="ruby-identifier">hash</span>={})
275:     <span class="ruby-ivar">@urigen</span>.<span class="ruby-identifier">make_absolute_uri</span>(<span class="ruby-identifier">hash</span>)
276:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000264" class="method-detail">
        <a name="M000264"></a>

        <div class="method-heading">

          <a href="#M000264" class="method-signature">

          <span class="method-name">reluri(:script=>string, :path_info=>string, :query=>query, :fragment=>string) &rarr; URI<br />
make_relative_uri(:script=>string, :path_info=>string, :query=>query, :fragment=>string) &rarr; URI<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <pre>
 make_relative_uri returns a relative URI which base URI is the URI the
 web application is invoked.

 The argument should be a hash which may have following components.
 - :script specifies script_name relative from the directory containing
   the web application script.
   If it is not specified, the web application itself is assumed.
 - :path_info specifies path_info component for calling web application.
   It should begin with a slash.
   If it is not specified, &quot;&quot; is assumed.
 - :query specifies query a component.
   It should be a Hash or a WebApp::QueryString.
 - :fragment specifies a fragment identifier.
   If it is not specified, a fragment identifier is not appended to
   the result URL.

 Since the method escapes the components properly,
 you should specify them in unescaped form.

 In the example follow, assume that the web application bar.cgi is invoked
 as http://host/foo/bar.cgi/baz/qux.

   webapp.reluri(:path_info=&gt;&quot;/hoge&quot;) =&gt; URI(&quot;../hoge&quot;)
   webapp.reluri(:path_info=&gt;&quot;/baz/fuga&quot;) =&gt; URI(&quot;fuga&quot;)
   webapp.reluri(:path_info=&gt;&quot;/baz/&quot;) =&gt; URI(&quot;./&quot;)
   webapp.reluri(:path_info=&gt;&quot;/&quot;) =&gt; URI(&quot;../&quot;)
   webapp.reluri() =&gt; URI(&quot;../../bar.cgi&quot;)
   webapp.reluri(:script=&gt;&quot;funyo.cgi&quot;) =&gt; URI(&quot;../../funyo.cgi&quot;)
   webapp.reluri(:script=&gt;&quot;punyo/gunyo.cgi&quot;) =&gt; URI(&quot;../../punyo/gunyo.cgi&quot;)
   webapp.reluri(:script=&gt;&quot;../genyo.cgi&quot;) =&gt; URI(&quot;../../../genyo.cgi&quot;)
   webapp.reluri(:fragment=&gt;&quot;sec1&quot;) =&gt; URI(&quot;../../bar.cgi#sec1&quot;)
</pre>
<p>
)
</p>
<pre>
   webapp.reluri(:path_info=&gt;&quot;/h?#o/x y&quot;) =&gt; URI(&quot;../h%3F%23o/x%20y&quot;)
   webapp.reluri(:script=&gt;&quot;ho%o.cgi&quot;) =&gt; URI(&quot;../../ho%25o.cgi&quot;)
   webapp.reluri(:fragment=&gt;&quot;sp ce&quot;) =&gt; URI(&quot;../../bar.cgi#sp%20ce&quot;)
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000264-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000264-source">
<pre>
     <span class="ruby-comment cmt"># File lib/hobix/webapp.rb, line 262</span>
262:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">make_relative_uri</span>(<span class="ruby-identifier">hash</span>={})
263:     <span class="ruby-ivar">@urigen</span>.<span class="ruby-identifier">make_relative_uri</span>(<span class="ruby-identifier">hash</span>)
264:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000259" class="method-detail">
        <a name="M000259"></a>

        <div class="method-heading">

          <a href="#M000259" class="method-signature">

          <span class="method-name">open_resource(path)<br />
open_resource(path) {|io| ... }<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
opens <em>path</em> as relative from a web application directory.
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000259-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000259-source">
<pre>
     <span class="ruby-comment cmt"># File lib/hobix/webapp.rb, line 157</span>
157:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">open_resource</span>(<span class="ruby-identifier">path</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) 
158:     <span class="ruby-identifier">resource_path</span>(<span class="ruby-identifier">path</span>).<span class="ruby-identifier">open</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
159:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000240" class="method-detail">
        <a name="M000240"></a>

        <div class="method-heading">

          <a href="#M000240" class="method-signature">

          <span class="method-name">path_info</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000240-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000240-source">
<pre>
    <span class="ruby-comment cmt"># File lib/hobix/webapp.rb, line 86</span>
86:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">path_info</span>() <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">path_info</span> <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000228" class="method-detail">
        <a name="M000228"></a>

        <div class="method-heading">

          <a href="#M000228" class="method-signature">

          <span class="method-name">print</span><span class="method-args">(*strs)</span>

          </a>

        </div>

        <div class="method-description">

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000228-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000228-source">
<pre>
    <span class="ruby-comment cmt"># File lib/hobix/webapp.rb, line 70</span>
70:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">print</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">strs</span>) <span class="ruby-ivar">@response_body</span>.<span class="ruby-identifier">print</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">strs</span>) <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000229" class="method-detail">
        <a name="M000229"></a>

        <div class="method-heading">

          <a href="#M000229" class="method-signature">

          <span class="method-name">printf</span><span class="method-args">(fmt, *args)</span>

          </a>

        </div>

        <div class="method-description">

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000229-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000229-source">
<pre>
    <span class="ruby-comment cmt"># File lib/hobix/webapp.rb, line 71</span>
71:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">printf</span>(<span class="ruby-identifier">fmt</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>) <span class="ruby-ivar">@response_body</span>.<span class="ruby-identifier">printf</span>(<span class="ruby-identifier">fmt</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>) <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000230" class="method-detail">
        <a name="M000230"></a>

        <div class="method-heading">

          <a href="#M000230" class="method-signature">

          <span class="method-name">putc</span><span class="method-args">(ch)</span>

          </a>

        </div>

        <div class="method-description">

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000230-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000230-source">
<pre>
    <span class="ruby-comment cmt"># File lib/hobix/webapp.rb, line 72</span>
72:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">putc</span>(<span class="ruby-identifier">ch</span>) <span class="ruby-ivar">@response_body</span>.<span class="ruby-identifier">putc</span> <span class="ruby-identifier">ch</span> <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000231" class="method-detail">
        <a name="M000231"></a>

        <div class="method-heading">

          <a href="#M000231" class="method-signature">

          <span class="method-name">puts</span><span class="method-args">(*strs)</span>

          </a>

        </div>

        <div class="method-description">

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000231-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000231-source">
<pre>
    <span class="ruby-comment cmt"># File lib/hobix/webapp.rb, line 73</span>
73:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">puts</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">strs</span>) <span class="ruby-ivar">@response_body</span>.<span class="ruby-identifier">puts</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">strs</span>) <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000269" class="method-detail">
        <a name="M000269"></a>

        <div class="method-heading">

          <a href="#M000269" class="method-signature">

          <span class="method-name">query_html_get_application_x_www_form_urlencoded</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000269-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000269-source">
<pre>
     <span class="ruby-comment cmt"># File lib/hobix/webapp.rb, line 366</span>
366:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">query_html_get_application_x_www_form_urlencoded</span>
367:     <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">query_string</span>.<span class="ruby-identifier">decode_as_application_x_www_form_urlencoded</span>
368:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000270" class="method-detail">
        <a name="M000270"></a>

        <div class="method-heading">

          <a href="#M000270" class="method-signature">

          <span class="method-name">query_html_post_application_x_www_form_urlencoded</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000270-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000270-source">
<pre>
     <span class="ruby-comment cmt"># File lib/hobix/webapp.rb, line 370</span>
370:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">query_html_post_application_x_www_form_urlencoded</span>
371:     <span class="ruby-keyword kw">if</span> <span class="ruby-regexp re">/\Apost\z/i</span> <span class="ruby-operator">=~</span> <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">request_method</span> <span class="ruby-comment cmt"># xxx: should not check?</span>
372:       <span class="ruby-identifier">q</span> = <span class="ruby-constant">QueryString</span>.<span class="ruby-identifier">primitive_new_for_raw_query_string</span>(<span class="ruby-ivar">@request</span>.<span class="ruby-identifier">body_object</span>.<span class="ruby-identifier">read</span>)
373:       <span class="ruby-keyword kw">if</span> <span class="ruby-regexp re">%r|\Amultipart/form-data.*boundary=\&quot;?([^\&quot;;,]+)\&quot;?|n</span>.<span class="ruby-identifier">match</span>(<span class="ruby-identifier">request_content_type</span>)
374:         <span class="ruby-identifier">boundary</span> = <span class="ruby-identifier">$1</span>.<span class="ruby-identifier">dup</span> 
375:         <span class="ruby-identifier">q</span>.<span class="ruby-identifier">decode_as_multipart_form_data</span> <span class="ruby-identifier">boundary</span>
376:       <span class="ruby-keyword kw">else</span>
377:         <span class="ruby-identifier">q</span>.<span class="ruby-identifier">decode_as_application_x_www_form_urlencoded</span>
378:       <span class="ruby-keyword kw">end</span>
379:     <span class="ruby-keyword kw">else</span>
380:       <span class="ruby-comment cmt"># xxx: warning?</span>
381:       <span class="ruby-constant">HTMLFormQuery</span>.<span class="ruby-identifier">new</span>
382:     <span class="ruby-keyword kw">end</span>
383:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000241" class="method-detail">
        <a name="M000241"></a>

        <div class="method-heading">

          <a href="#M000241" class="method-signature">

          <span class="method-name">query_string</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000241-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000241-source">
<pre>
    <span class="ruby-comment cmt"># File lib/hobix/webapp.rb, line 87</span>
87:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">query_string</span>() <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">query_string</span> <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000265" class="method-detail">
        <a name="M000265"></a>

        <div class="method-heading">

          <span class="method-name">reluri</span><span class="method-args">(hash={})</span>

        </div>

        <div class="method-description">

          <p>
Alias for <a href="WebApp.html#M000264">make_relative_uri</a>
</p>

        </div>
      </div>


      <div id="method-M000243" class="method-detail">
        <a name="M000243"></a>

        <div class="method-heading">

          <a href="#M000243" class="method-signature">

          <span class="method-name">remote_addr</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000243-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000243-source">
<pre>
    <span class="ruby-comment cmt"># File lib/hobix/webapp.rb, line 89</span>
89:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">remote_addr</span>() <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">remote_addr</span> <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000251" class="method-detail">
        <a name="M000251"></a>

        <div class="method-heading">

          <a href="#M000251" class="method-signature">

          <span class="method-name">remove_header</span><span class="method-args">(field_name)</span>

          </a>

        </div>

        <div class="method-description">

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000251-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000251-source">
<pre>
     <span class="ruby-comment cmt"># File lib/hobix/webapp.rb, line 118</span>
118:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">remove_header</span>(<span class="ruby-identifier">field_name</span>) <span class="ruby-ivar">@response_header</span>.<span class="ruby-identifier">remove</span>(<span class="ruby-identifier">field_name</span>) <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000236" class="method-detail">
        <a name="M000236"></a>

        <div class="method-heading">

          <a href="#M000236" class="method-signature">

          <span class="method-name">request_body</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000236-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000236-source">
<pre>
    <span class="ruby-comment cmt"># File lib/hobix/webapp.rb, line 82</span>
82:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">request_body</span>() <span class="ruby-ivar">@request_body</span>.<span class="ruby-identifier">string</span> <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000244" class="method-detail">
        <a name="M000244"></a>

        <div class="method-heading">

          <a href="#M000244" class="method-signature">

          <span class="method-name">request_content_type</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000244-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000244-source">
<pre>
    <span class="ruby-comment cmt"># File lib/hobix/webapp.rb, line 90</span>
90:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">request_content_type</span>() <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">content_type</span> <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000235" class="method-detail">
        <a name="M000235"></a>

        <div class="method-heading">

          <a href="#M000235" class="method-signature">

          <span class="method-name">request_method</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000235-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000235-source">
<pre>
    <span class="ruby-comment cmt"># File lib/hobix/webapp.rb, line 81</span>
81:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">request_method</span>() <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">request_method</span> <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000245" class="method-detail">
        <a name="M000245"></a>

        <div class="method-heading">

          <a href="#M000245" class="method-signature">

          <span class="method-name">request_uri</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000245-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000245-source">
<pre>
    <span class="ruby-comment cmt"># File lib/hobix/webapp.rb, line 91</span>
91:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">request_uri</span>() <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">request_uri</span> <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000258" class="method-detail">
        <a name="M000258"></a>

        <div class="method-heading">

          <a href="#M000258" class="method-signature">

          <span class="method-name">resource_path</span><span class="method-args">(arg)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
returns a Pathname object. <em>path</em> is interpreted as a relative path
from the directory which a web application exists.
</p>
<p>
If /home/user/public_html/foo/bar.cgi is a web application which <a
href="WebApp.html">WebApp</a> {} calls,
webapp.resource_path(&#8220;baz&#8221;) returns a pathname points to
/home/user/public_html/foo/baz.
</p>
<p>
<em>path</em> must not have &#8220;..&#8221; component and must not be
absolute. Otherwise ArgumentError is raised.
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000258-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000258-source">
<pre>
     <span class="ruby-comment cmt"># File lib/hobix/webapp.rb, line 143</span>
143:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">resource_path</span>(<span class="ruby-identifier">arg</span>)
144:     <span class="ruby-identifier">path</span> = <span class="ruby-constant">Pathname</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">arg</span>)
145:     <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-node">&quot;absolute path: #{arg.inspect}&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">path</span>.<span class="ruby-identifier">relative?</span>
146:     <span class="ruby-identifier">path</span>.<span class="ruby-identifier">each_filename</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span>
147:       <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-node">&quot;path contains .. : #{arg.inspect}&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">f</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'..'</span>
148:     }
149:     <span class="ruby-ivar">@manager</span>.<span class="ruby-identifier">resource_basedir</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">path</span>
150:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000239" class="method-detail">
        <a name="M000239"></a>

        <div class="method-heading">

          <a href="#M000239" class="method-signature">

          <span class="method-name">script_name</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000239-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000239-source">
<pre>
    <span class="ruby-comment cmt"># File lib/hobix/webapp.rb, line 85</span>
85:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">script_name</span>() <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">script_name</span> <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000261" class="method-detail">
        <a name="M000261"></a>

        <div class="method-heading">

          <a href="#M000261" class="method-signature">

          <span class="method-name">send_not_found</span><span class="method-args">(msg)</span>

          </a>

        </div>

        <div class="method-description">

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000261-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000261-source">
<pre>
     <span class="ruby-comment cmt"># File lib/hobix/webapp.rb, line 181</span>
181:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">send_not_found</span>(<span class="ruby-identifier">msg</span>)
182:     <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">status_line</span> = <span class="ruby-value str">'404 Not Found'</span>
183:     <span class="ruby-ivar">@response_body</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot;&lt;html&gt;\n  &lt;head&gt;&lt;title&gt;404 Not Found&lt;/title&gt;&lt;/head&gt;\n  &lt;body&gt;\n    &lt;h1&gt;404 Not Found&lt;/h1&gt;\n    &lt;p&gt;\#{msg}&lt;/p&gt;\n    &lt;hr /&gt;\n    &lt;small&gt;&lt;a href=\&quot;http://hobix.com/\&quot;&gt;hobix&lt;/a&gt; \#{ Hobix::VERSION } / &lt;a href=\&quot;http://docs.hobix.com\&quot;&gt;docs&lt;/a&gt; / &lt;a href=\&quot;http://let.us.all.hobix.com\&quot;&gt;wiki&lt;/a&gt; / &lt;a href=\&quot;http://google.com/search?q=hobix+\#{ URI.escape action_uri }\&quot;&gt;search google for this action&lt;/a&gt;&lt;/small&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n&quot;</span>
184:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000260" class="method-detail">
        <a name="M000260"></a>

        <div class="method-heading">

          <a href="#M000260" class="method-signature">

          <span class="method-name">send_resource(path)<br />
</span>

          </a>

        </div>

        <div class="method-description">

          <p>
send the resource indicated by <em>path</em>. Last-Modified: and
If-Modified-Since: header is supported.
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000260-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000260-source">
<pre>
     <span class="ruby-comment cmt"># File lib/hobix/webapp.rb, line 166</span>
166:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">send_resource</span>(<span class="ruby-identifier">path</span>)
167:     <span class="ruby-identifier">path</span> = <span class="ruby-identifier">resource_path</span>(<span class="ruby-identifier">path</span>)
168:     <span class="ruby-keyword kw">begin</span>
169:       <span class="ruby-identifier">mtime</span> = <span class="ruby-identifier">path</span>.<span class="ruby-identifier">mtime</span>
170:     <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">Errno</span><span class="ruby-operator">::</span><span class="ruby-constant">ENOENT</span>
171:       <span class="ruby-identifier">send_not_found</span> <span class="ruby-node">&quot;Resource not found: #{path}&quot;</span>
172:       <span class="ruby-keyword kw">return</span>
173:     <span class="ruby-keyword kw">end</span>
174:     <span class="ruby-identifier">check_last_modified</span>(<span class="ruby-identifier">path</span>.<span class="ruby-identifier">mtime</span>) {
175:       <span class="ruby-identifier">path</span>.<span class="ruby-identifier">open</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span>
176:         <span class="ruby-ivar">@response_body</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">f</span>.<span class="ruby-identifier">read</span>
177:       }
178:     }
179:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000262" class="method-detail">
        <a name="M000262"></a>

        <div class="method-heading">

          <a href="#M000262" class="method-signature">

          <span class="method-name">send_unauthorized</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000262-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000262-source">
<pre>
     <span class="ruby-comment cmt"># File lib/hobix/webapp.rb, line 197</span>
197:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">send_unauthorized</span>
198:     <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">status_line</span> = <span class="ruby-value str">'401 Unauthorized'</span>
199:     <span class="ruby-ivar">@response_body</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot;&lt;html&gt;\n  &lt;head&gt;&lt;title&gt;401 Unauthorized&lt;/title&gt;&lt;/head&gt;\n  &lt;body&gt;\n    &lt;h1&gt;401 Authorized&lt;/h1&gt;\n    &lt;p&gt;You lack decent credentials to enter herein.&lt;/p&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n&quot;</span>
200:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000237" class="method-detail">
        <a name="M000237"></a>

        <div class="method-heading">

          <a href="#M000237" class="method-signature">

          <span class="method-name">server_name</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000237-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000237-source">
<pre>
    <span class="ruby-comment cmt"># File lib/hobix/webapp.rb, line 83</span>
83:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">server_name</span>() <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">server_name</span> <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000238" class="method-detail">
        <a name="M000238"></a>

        <div class="method-heading">

          <a href="#M000238" class="method-signature">

          <span class="method-name">server_port</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000238-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000238-source">
<pre>
    <span class="ruby-comment cmt"># File lib/hobix/webapp.rb, line 84</span>
84:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">server_port</span>() <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">server_port</span> <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000242" class="method-detail">
        <a name="M000242"></a>

        <div class="method-heading">

          <a href="#M000242" class="method-signature">

          <span class="method-name">server_protocol</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000242-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000242-source">
<pre>
    <span class="ruby-comment cmt"># File lib/hobix/webapp.rb, line 88</span>
88:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">server_protocol</span>() <span class="ruby-ivar">@request</span>.<span class="ruby-identifier">server_protocol</span> <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000249" class="method-detail">
        <a name="M000249"></a>

        <div class="method-heading">

          <a href="#M000249" class="method-signature">

          <span class="method-name">set_header</span><span class="method-args">(field_name, field_body)</span>

          </a>

        </div>

        <div class="method-description">

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000249-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000249-source">
<pre>
     <span class="ruby-comment cmt"># File lib/hobix/webapp.rb, line 116</span>
116:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_header</span>(<span class="ruby-identifier">field_name</span>, <span class="ruby-identifier">field_body</span>) <span class="ruby-ivar">@response_header</span>.<span class="ruby-identifier">set</span>(<span class="ruby-identifier">field_name</span>, <span class="ruby-identifier">field_body</span>) <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000268" class="method-detail">
        <a name="M000268"></a>

        <div class="method-heading">

          <a href="#M000268" class="method-signature">

          <span class="method-name">setup_redirection</span><span class="method-args">(status, uri)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
setup_redirect makes a status line and a Location header appropriate as
redirection.
</p>
<p>
<em>status</em> specifies the status line. It should be a Fixnum 3xx or
String &#8216;3xx &#8230;&#8217;.
</p>
<p>
<em>uri</em> specifies the Location header body. It should be a URI, String
or Hash. If a Hash is given, <a
href="WebApp.html#M000266">make_absolute_uri</a> is called to convert to
URI. If given URI is relative, it is converted as absolute URI.
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000268-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000268-source">
<pre>
     <span class="ruby-comment cmt"># File lib/hobix/webapp.rb, line 334</span>
334:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">setup_redirection</span>(<span class="ruby-identifier">status</span>, <span class="ruby-identifier">uri</span>)
335:     <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">status</span>
336:     <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Fixnum</span>
337:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">status</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">300</span> <span class="ruby-operator">||</span> <span class="ruby-value">400</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-identifier">status</span>
338:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-node">&quot;unexpected status: #{status.inspect}&quot;</span>
339:       <span class="ruby-keyword kw">end</span>
340:       <span class="ruby-identifier">status</span> = <span class="ruby-node">&quot;#{status} #{StatusMessage[status]}&quot;</span>
341:     <span class="ruby-keyword kw">when</span> <span class="ruby-constant">String</span>
342:       <span class="ruby-keyword kw">unless</span> <span class="ruby-regexp re">/\A3\d\d(\z| )/</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">status</span>
343:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-node">&quot;unexpected status: #{status.inspect}&quot;</span>
344:       <span class="ruby-keyword kw">end</span>
345:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">status</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">==</span> <span class="ruby-value">3</span>
346:         <span class="ruby-identifier">status</span> = <span class="ruby-node">&quot;#{status} #{StatusMessage[status.to_i]}&quot;</span>
347:       <span class="ruby-keyword kw">end</span>
348:     <span class="ruby-keyword kw">else</span>
349:       <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-node">&quot;unexpected status: #{status.inspect}&quot;</span>
350:     <span class="ruby-keyword kw">end</span>
351:     <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">uri</span>
352:     <span class="ruby-keyword kw">when</span> <span class="ruby-constant">URI</span>
353:       <span class="ruby-identifier">uri</span> = <span class="ruby-ivar">@urigen</span>.<span class="ruby-identifier">base_uri</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">uri</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">uri</span>.<span class="ruby-identifier">relative?</span>
354:     <span class="ruby-keyword kw">when</span> <span class="ruby-constant">String</span>
355:       <span class="ruby-identifier">uri</span> = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">uri</span>)
356:       <span class="ruby-identifier">uri</span> = <span class="ruby-ivar">@urigen</span>.<span class="ruby-identifier">base_uri</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">uri</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">uri</span>.<span class="ruby-identifier">relative?</span>
357:     <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Hash</span>
358:       <span class="ruby-identifier">uri</span> = <span class="ruby-identifier">make_absolute_uri</span>(<span class="ruby-identifier">uri</span>)
359:     <span class="ruby-keyword kw">else</span>
360:       <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-node">&quot;unexpected uri: #{uri.inspect}&quot;</span>
361:     <span class="ruby-keyword kw">end</span>
362:     <span class="ruby-ivar">@response</span>.<span class="ruby-identifier">status_line</span> = <span class="ruby-identifier">status</span>
363:     <span class="ruby-ivar">@response_header</span>.<span class="ruby-identifier">set</span> <span class="ruby-value str">'Location'</span>, <span class="ruby-identifier">uri</span>.<span class="ruby-identifier">to_s</span>
364:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000232" class="method-detail">
        <a name="M000232"></a>

        <div class="method-heading">

          <a href="#M000232" class="method-signature">

          <span class="method-name">write</span><span class="method-args">(str)</span>

          </a>

        </div>

        <div class="method-description">

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000232-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000232-source">
<pre>
    <span class="ruby-comment cmt"># File lib/hobix/webapp.rb, line 74</span>
74:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">write</span>(<span class="ruby-identifier">str</span>) <span class="ruby-ivar">@response_body</span>.<span class="ruby-identifier">write</span> <span class="ruby-identifier">str</span> <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>



    </div>




  </div>

<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>
