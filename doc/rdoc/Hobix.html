<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>module Hobix - The Book of Hobix</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
  var index_rel_prefix = "./";
</script>

<script src="./js/navigation.js" defer></script>
<script src="./js/search.js" defer></script>
<script src="./js/search_index.js" defer></script>
<script src="./js/searcher.js" defer></script>
<script src="./js/darkfish.js" defer></script>

<link href="./css/fonts.css" rel="stylesheet">
<link href="./css/rdoc.css" rel="stylesheet">




<body id="top" role="document" class="module">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="./index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="./table_of_contents.html#pages">Pages</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  
<div class="nav-section">
  <h3>Table of Contents</h3>

  <ul class="link-list" role="directory">
    <li><a href="#module-Hobix-label-Hobix">Hobix</a>
    <li><a href="#module-Hobix-label-Module+Map">Module Map</a>
    <li><a href="#module-Hobix-label-Examples">Examples</a>
    <li><a href="#module-Hobix-label-Example+1-3A+Regenerating+a+weblog">Example 1: Regenerating a weblog</a>
    <li><a href="#module-Hobix-label-Example+2-3A+E-mail+notify+on+publish">Example 2: E-mail notify on publish</a>
    <li><a href="#module-Hobix-label-hobix-2Fapi.rb">hobix/api.rb</a>
    <li><a href="#module-Hobix-label-hobix-2Fentry.rb">hobix/entry.rb</a>
    <li><a href="#module-Hobix-label-Properties">Properties</a>
    <li><a href="#module-Hobix-label-Sample+LinkList">Sample LinkList</a>
  </ul>
</div>


  <div id="class-metadata">
    
    
    
    
    <!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    
    <li ><a href="#method-c-WebApp">::WebApp</a>
    
    <li ><a href="#method-c-const_find">::const_find</a>
    
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="module-Hobix">
  <h1 id="module-Hobix" class="module">
    module Hobix
  </h1>

  <section class="description">
    
<h1 id="module-Hobix-label-Hobix"><a href="Hobix.html"><code>Hobix</code></a><span><a href="#module-Hobix-label-Hobix">&para;</a> <a href="#top">&uarr;</a></span></h1>

<p><a href="Hobix.html"><code>Hobix</code></a> is a complete blogging system, designed to be managed on the file system and accessed through a command-line application.</p>

<p>The command-line application is powered by this Ruby library which is designed to be fully scriptable and extensible.</p>

<h1 id="module-Hobix-label-Module+Map">Module Map<span><a href="#module-Hobix-label-Module+Map">&para;</a> <a href="#top">&uarr;</a></span></h1>

<p>Here is a map of the core modules which are loaded when you require &#39;hobix&#39; in your script.</p>
<dl class="rdoc-list note-list"><dt><a href="Hobix/Weblog.html"><code>Hobix::Weblog</code></a>
<dd>
<p>Generally, this module is the starting point. Load a weblog&#39;s configuration into a <a href="Hobix/Weblog.html"><code>Hobix::Weblog</code></a> object, which can be used to query entries,  generate pages, and edit any part of the site. (from &#39;hobix/weblog&#39;)</p>
</dd><dt><a href="Hobix/Page.html"><code>Hobix::Page</code></a>
<dd>
<p>Whenever a template is generated into output, a <a href="Hobix/Page.html"><code>Page</code></a> object is passed in, describing the links to neighboring pages and update time. (from &#39;hobix/weblog&#39;)</p>
</dd><dt><a href="Hobix/Entry.html"><code>Hobix::Entry</code></a>
<dd>
<p>Using an entry&#39;s id (or shortName), you can load <a href="Hobix/Entry.html"><code>Entry</code></a> objects, which contain all the content and rendering details for an entry. (from &#39;hobix/entry&#39;)</p>
</dd><dt><a href="Hobix/EntryEnum.html"><code>Hobix::EntryEnum</code></a>
<dd>
<p>When <a href="Hobix.html"><code>Hobix</code></a> supplies a template with a list of entry classes, this module is mixed in. (from &#39;hobix/entry&#39;)</p>
</dd><dt><a href="Hobix/LinkList.html"><code>Hobix::LinkList</code></a>
<dd>
<p>An <a href="Hobix/Entry.html"><code>Entry</code></a> subclass, used for storing links. (from &#39;hobix/linklist&#39;)</p>
</dd><dt><a href="Hobix/BasePlugin.html"><code>Hobix::BasePlugin</code></a>
<dd>
<p>All <a href="Hobix.html"><code>Hobix</code></a> plugins inherit from this class. The class uses Ruby&#39;s <code>inherited</code> hook to identify plugins. (from &#39;hobix/base&#39;)</p>
</dd><dt><a href="Hobix/BaseStorage.html"><code>Hobix::BaseStorage</code></a>
<dd>
<p>All storage plugins inherit from this class. Storage plugins exclusively store the weblog entries. (from &#39;hobix/base&#39;)</p>
</dd><dt><a href="Hobix/BaseOutput.html"><code>Hobix::BaseOutput</code></a>
<dd>
<p>All output plugins inherit from this class. Output plugins are attached to specific template types and they feed entries into the template. (from &#39;hobix/base&#39;)</p>
</dd><dt><a href="Hobix/BasePublish.html"><code>Hobix::BasePublish</code></a>
<dd>
<p>All publisher plugins inherit from this class. Publisher plugins are notified when certain pages are updated.  For example, the <code>ping</code> plugin will ping blog directories if the `index&#39; pages are updated. (from &#39;hobix/base&#39;)</p>
</dd><dt><a href="Hobix/Config.html"><code>Hobix::Config</code></a>
<dd>
<p>Users individually store their personal settings and weblog paths in .hobixrc.  This class is used to load and manipulate the settings file. (from &#39;hobix/config&#39;)</p>
</dd></dl>

<p><a href="Hobix.html"><code>Hobix</code></a> comes with a few plugins, for which documentation is also available.</p>
<dl class="rdoc-list note-list"><dt>Hobix::Storage::Filesys
<dd>
<p>This plugin stores entries in separate <a href="YAML.html"><code>YAML</code></a> files.  Directories can be used to categorize and organize entries. (from &#39;hobix/storage/filesys&#39;)</p>
</dd><dt>Hobix::Out::ERB
<dd>
<p>This output plugin handles .erb templates. <a href="Hobix/Page.html"><code>Page</code></a> and entry data are passed in as variables. ERuby markup is used in the document to script against those variables. (from &#39;hobix/out/erb&#39;)</p>
</dd><dt>Hobix::Out::RedRum
<dd>
<p>This output plugin handles .redrum templates. These templates contain ERuby as well.  The output generated by the page is passed through RedCloth, a Textile processor.  This way, you can write your templates in Textile with ERuby scripting. (from &#39;hobix/out/redrum&#39;)</p>
</dd><dt>Hobix::Out::RSS
<dd>
<p>This output plugin handles .rss templates. These templates are empty and simply signify to the plugin that an RSS 2.0 feed should be generated for the entry data. (from &#39;hobix/out/rss&#39;)</p>
</dd><dt>Hobix::Out::Atom
<dd>
<p>This output plugin handles .atom templates. Just like the RSS plugin, but generates an Atom feed. (from &#39;hobix/out/atom&#39;)</p>
</dd><dt>Hobix::Out::OkayNews
<dd>
<p>This output plugin handles .okaynews templates. Just like the Atom and RSS plugins, but generates !okay/news, a <a href="YAML.html"><code>YAML</code></a> syndication feed. (from &#39;hobix/out/okaynews&#39;)</p>
</dd><dt>Hobix::Publish::Ping
<dd>
<p>This publisher plugin pings blog directories when the &#39;index&#39; pages are published on a regen or upgen.</p>
</dd></dl>

<h1 id="module-Hobix-label-Examples">Examples<span><a href="#module-Hobix-label-Examples">&para;</a> <a href="#top">&uarr;</a></span></h1>

<p>Here are a few short examples to give you a feel for how <a href="Hobix.html"><code>Hobix</code></a> can be scripted.  Refer to individual module&#39;s documentation for more.</p>

<h2 id="module-Hobix-label-Example+1-3A+Regenerating+a+weblog">Example 1: Regenerating a weblog<span><a href="#module-Hobix-label-Example+1-3A+Regenerating+a+weblog">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>The first step is to load the <a href="Hobix/Weblog.html"><code>Weblog</code></a> object.</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&#39;hobix&#39;</span>
<span class="ruby-identifier">weblog</span> = <span class="ruby-constant">Hobix</span><span class="ruby-operator">::</span><span class="ruby-constant">Weblog</span>.<span class="ruby-identifier">load</span>( <span class="ruby-string">&#39;/my/blahhg/hobix.yaml&#39;</span> )
</pre>

<p>With the weblog loaded, we&#39;ll now want to load a template. Templates are stored in the weblog&#39;s <code>skel_path</code> accessor.</p>

<pre class="ruby"><span class="ruby-identifier">tpl_path</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>( <span class="ruby-identifier">weblog</span>.<span class="ruby-identifier">skel_path</span>, <span class="ruby-string">&#39;index.html.erb&#39;</span> )
</pre>

<p>We give the path to the editor.  When we are done editing, the editor saves to the original path.  We can then trigger a rebuild.</p>

<pre class="ruby"><span class="ruby-identifier">weblog</span>.<span class="ruby-identifier">regenerate</span> <span class="ruby-value">:update</span>
</pre>

<p>The :update indicates that not every file will be regenerated, only those affected by the change.</p>

<h2 id="module-Hobix-label-Example+2-3A+E-mail+notify+on+publish">Example 2: E-mail notify on publish<span><a href="#module-Hobix-label-Example+2-3A+E-mail+notify+on+publish">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Publisher plugins are used to perform actions when the site has an upgen or regen.  <a href="Hobix.html"><code>Hobix</code></a> plugins are absolutely the simplest Ruby coding ever.  Watch.</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&#39;net/smtp&#39;</span>

<span class="ruby-keyword">module</span> <span class="ruby-constant">Hobix</span><span class="ruby-operator">::</span><span class="ruby-constant">Publish</span>
<span class="ruby-keyword">class</span> <span class="ruby-constant">Email</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">Hobix</span><span class="ruby-operator">::</span><span class="ruby-constant">BasePublish</span>
  <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">initialize</span>( <span class="ruby-identifier">weblog</span>, <span class="ruby-identifier">emails</span> ); <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">watch</span>; [<span class="ruby-string">&#39;entry&#39;</span>]; <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">publish</span>( <span class="ruby-identifier">page_name</span> ); <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
</pre>

<p>This plugin doesn&#39;t do anything yet.  But it won&#39;t throw any errors. This is our skeleton for a plugin that will e-mail us when there are updates to the site.</p>

<p>The <code>watch</code> method monitors certain page prefixes.  The `entry&#39; prefix indicates that this publish plugin looks for changes to any entry on the site.</p>

<p>The <code>initialize</code> method is important as well.  It receives the <code>Hobix::Weblog</code> object the publishing took place on.  The <em>emails</em> parameter is supplied a list of e-mail address from the weblog&#39;s hobix.yaml configuration.</p>

<p>When a plugin is initialized it is given the weblog object and any data which is supplied in the weblog configuration.  Here is what the hobix.yaml looks like:</p>

<pre>requires:
  - hobix/storage/filesys
  - hobix/out/erb
  - hobix/publish/ping: [http://ping.blo.gs:80/]</pre>

<p>In the above configuration, an Array is passed to the Ping plugin. So that&#39;s what we&#39;ll receive here.</p>

<p>To get our e-mail sending, let&#39;s fill in the <code>initialize</code> and <code>publish</code> methods.</p>

<pre class="ruby"><span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">initialize</span>( <span class="ruby-identifier">weblog</span>, <span class="ruby-identifier">emails</span> )
  <span class="ruby-ivar">@weblog</span> = <span class="ruby-identifier">weblog</span>
  <span class="ruby-ivar">@emails</span> = <span class="ruby-identifier">emails</span>
<span class="ruby-keyword">end</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">publish</span>( <span class="ruby-identifier">page_name</span> )
  <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">SMTP</span>.<span class="ruby-identifier">start</span>( <span class="ruby-string">&#39;localhost&#39;</span>, <span class="ruby-value">25</span> ) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">smtp</span><span class="ruby-operator">|</span>
    <span class="ruby-ivar">@emails</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">email</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">smtp</span>.<span class="ruby-identifier">send_message</span> <span class="ruby-identifier">&lt;&lt;MSG</span>, <span class="ruby-string">&#39;your@site.com&#39;</span>, <span class="ruby-identifier">email</span>
<span class="ruby-value">From: your@site.com
To: #{ email }

The site has been updated.
</span><span class="ruby-identifier">MSG</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>    
<span class="ruby-keyword">end</span>
</pre>

<h1 id="module-Hobix-label-hobix-2Fapi.rb">hobix/api.rb<span><a href="#module-Hobix-label-hobix-2Fapi.rb">&para;</a> <a href="#top">&uarr;</a></span></h1>

<p><a href="Hobix.html"><code>Hobix</code></a> <a href="Hobix/API.html"><code>API</code></a>, used by any external service (DRb or REST, etc.)</p>

<p>Copyright © 2003-2004 why the lucky stiff</p>

<p>Written &amp; maintained by why the lucky stiff &lt;why@ruby-lang.org&gt;</p>

<p>This program is free software, released under a BSD license. See <a href="COPYING.html">COPYING</a> for details.</p>

<p>Marshal + DBM = <a href="Hobix/DataMarsh.html"><code>DataMarsh</code></a></p>
<ul><li>
<p>Same interface as DBM class</p>
</li></ul>

<h1 id="module-Hobix-label-hobix-2Fentry.rb">hobix/entry.rb<span><a href="#module-Hobix-label-hobix-2Fentry.rb">&para;</a> <a href="#top">&uarr;</a></span></h1>

<p><a href="Hobix.html"><code>Hobix</code></a> command-line weblog system.</p>

<p>Copyright © 2003-2004 why the lucky stiff</p>

<p>Written &amp; maintained by why the lucky stiff &lt;why@ruby-lang.org&gt;</p>

<p>This program is free software, released under a BSD license. See <a href="COPYING.html">COPYING</a> for details.</p>

<p>The <a href="Hobix/LinkList.html"><code>LinkList</code></a> class is an entry type for storing links.  It&#39;s also a good example of how to subclass the <a href="Hobix/Entry.html"><code>Entry</code></a> class so you can store your own kinds of entries.</p>

<h2 id="module-Hobix-label-Properties">Properties<span><a href="#module-Hobix-label-Properties">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>The <a href="Hobix/LinkList.html"><code>LinkList</code></a> responds to many of the same properties listed in the <code>Hobix::Entry</code> class.  The primary difference is that, instead of having a <code>content</code> property, there is a <code>links</code> property.</p>
<dl class="rdoc-list note-list"><dt>links
<dd>
<p>Internally, this class stores a <code>YAML::Omap</code>, an Array of pairs.  The links are kept in the order shown in the <a href="YAML.html"><code>YAML</code></a> file.  They consist of a link title, paired with a URL.</p>
</dd></dl>

<h2 id="module-Hobix-label-Sample+LinkList">Sample <a href="Hobix/LinkList.html"><code>LinkList</code></a><span><a href="#module-Hobix-label-Sample+LinkList">&para;</a> <a href="#top">&uarr;</a></span></h2>

<pre>--- %YAML:1.0 !hobix.com,2004/linklist
title: Hobix Links
author: why
created: 2004-05-30 18:53:00 -06:00
links:
- Hobix: http://hobix.com/
- Learn Hobix: http://hobix.com/learn/
- Textile Reference: http://hobix.com/textile/</pre>

  </section>

  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    
    <section class="constants-list">
      <header>
        <h3>Constants</h3>
      </header>
      <dl>
      
        <dt id="CVS_ID">CVS_ID
        
        <dd><p>CVS information</p>
        
      
        <dt id="CVS_REV">CVS_REV
        
        <dd>
        
      
        <dt id="SHARE_PATH">SHARE_PATH
        
        <dd>
        
      
        <dt id="VERSION">VERSION
        
        <dd><p>Version used to compare installations</p>
        
      
      </dl>
    </section>
    

    

    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Class Methods</h3>
       </header>

    
      <div id="method-c-WebApp" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">WebApp</span><span
            class="method-args">() { |webapp| ... }</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p><a href="Hobix/WebApp.html"><code>WebApp</code></a> is a main routine of web application. It should be called from a toplevel of a CGI/FastCGI/mod_ruby/WEBrick script.</p>

<p><a href="Hobix/WebApp.html"><code>WebApp</code></a> is used as follows.</p>

<pre>#!/usr/bin/env ruby

require &#39;webapp&#39;

... class/method definitions ... # run once per process.

WebApp {|webapp| # This block runs once per request.
  ... process a request ...
}</pre>

<p><a href="Hobix/WebApp.html"><code>WebApp</code></a> yields with an object of the class <a href="Hobix/WebApp.html"><code>WebApp</code></a>. The object contains request and response.</p>

<p><a href="Hobix/WebApp.html"><code>WebApp</code></a> rise $SAFE to 1.</p>

<p><a href="Hobix/WebApp.html"><code>WebApp</code></a> catches all kind of exception raised in the block. If HTTP connection is made from localhost or a developper host, the backtrace is sent back to the browser. Otherwise, the backtrace is sent to stderr usually which is redirected to error.log. The developper hosts are specified by the environment variable  WEBAPP_DEVELOP_HOST. It may be an IP address such as “111.222.333.444” or an network address such as “111.222.333.0/24”. (An environment variable for CGI can be set by SetEnv directive in Apache.)</p>
          
          

          
          <div class="method-source-code" id="WebApp-source">
            <pre>    <span class="ruby-comment"># File lib/hobix/webapp.rb</span>
<span class="line-num">690</span> <span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-constant">WebApp</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier ruby-title">block</span>) <span class="ruby-comment"># :yields: webapp</span>
<span class="line-num">691</span>   <span class="ruby-identifier">$SAFE</span> = <span class="ruby-value">1</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">$SAFE</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">1</span>
<span class="line-num">692</span>   <span class="ruby-identifier">manager</span> = <span class="ruby-constant">WebApp</span><span class="ruby-operator">::</span><span class="ruby-constant">Manager</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">block</span>)
<span class="line-num">693</span>   <span class="ruby-keyword">if</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">Apache</span><span class="ruby-operator">::</span><span class="ruby-constant">Request</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">Apache</span>.<span class="ruby-identifier">request</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Apache</span><span class="ruby-operator">::</span><span class="ruby-constant">Request</span>)
<span class="line-num">694</span>     <span class="ruby-identifier">run</span> = <span class="ruby-identifier">lambda</span> { <span class="ruby-identifier">manager</span>.<span class="ruby-identifier">run_rbx</span> }
<span class="line-num">695</span>   <span class="ruby-keyword">elsif</span> <span class="ruby-constant">Thread</span>.<span class="ruby-identifier">current</span>[<span class="ruby-value">:webrick_load_servlet</span>]
<span class="line-num">696</span>     <span class="ruby-identifier">run</span> = <span class="ruby-identifier">lambda</span> { <span class="ruby-identifier">manager</span>.<span class="ruby-identifier">run_webrick</span> }
<span class="line-num">697</span>   <span class="ruby-keyword">elsif</span> <span class="ruby-constant">STDIN</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:stat</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">STDIN</span>.<span class="ruby-identifier">stat</span>.<span class="ruby-identifier">socket?</span> <span class="ruby-operator">&amp;&amp;</span>
<span class="line-num">698</span>         <span class="ruby-keyword">begin</span>
<span class="line-num">699</span>           <span class="ruby-comment"># getpeername(FCGI_LISTENSOCK_FILENO) causes ENOTCONN on FastCGI</span>
<span class="line-num">700</span>           <span class="ruby-comment"># cf. http://www.fastcgi.com/devkit/doc/fcgi-spec.html</span>
<span class="line-num">701</span>           <span class="ruby-identifier">require</span> <span class="ruby-string">&#39;socket&#39;</span>
<span class="line-num">702</span>           <span class="ruby-identifier">sock</span> = <span class="ruby-constant">Socket</span>.<span class="ruby-identifier">for_fd</span>(<span class="ruby-value">0</span>)
<span class="line-num">703</span>           <span class="ruby-identifier">sock</span>.<span class="ruby-identifier">getpeername</span>
<span class="line-num">704</span>           <span class="ruby-keyword">false</span>
<span class="line-num">705</span>         <span class="ruby-keyword">rescue</span> <span class="ruby-constant">Errno</span><span class="ruby-operator">::</span><span class="ruby-constant">ENOTCONN</span>
<span class="line-num">706</span>           <span class="ruby-keyword">true</span>
<span class="line-num">707</span>         <span class="ruby-keyword">rescue</span> <span class="ruby-constant">SystemCallError</span>
<span class="line-num">708</span>           <span class="ruby-keyword">false</span>
<span class="line-num">709</span>         <span class="ruby-keyword">end</span>
<span class="line-num">710</span>     <span class="ruby-identifier">run</span> = <span class="ruby-identifier">lambda</span> { <span class="ruby-identifier">manager</span>.<span class="ruby-identifier">run_fcgi</span> }
<span class="line-num">711</span>   <span class="ruby-keyword">elsif</span> <span class="ruby-constant">ENV</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&#39;REQUEST_METHOD&#39;</span>)
<span class="line-num">712</span>     <span class="ruby-identifier">run</span> = <span class="ruby-identifier">lambda</span> { <span class="ruby-identifier">manager</span>.<span class="ruby-identifier">run_cgi</span> }
<span class="line-num">713</span>   <span class="ruby-keyword">else</span>
<span class="line-num">714</span>     <span class="ruby-identifier">require</span> <span class="ruby-string">&#39;hobix/webapp/cli&#39;</span>
<span class="line-num">715</span>     <span class="ruby-identifier">run</span> = <span class="ruby-identifier">lambda</span> { <span class="ruby-identifier">manager</span>.<span class="ruby-identifier">run_cli</span> }
<span class="line-num">716</span>   <span class="ruby-keyword">end</span>
<span class="line-num">717</span>   <span class="ruby-keyword">if</span> <span class="ruby-constant">Thread</span>.<span class="ruby-identifier">current</span>[<span class="ruby-value">:webapp_delay</span>]
<span class="line-num">718</span>     <span class="ruby-constant">Thread</span>.<span class="ruby-identifier">current</span>[<span class="ruby-value">:webapp_proc</span>] = <span class="ruby-identifier">run</span>
<span class="line-num">719</span>   <span class="ruby-keyword">else</span>
<span class="line-num">720</span>     <span class="ruby-identifier">run</span>.<span class="ruby-identifier">call</span>
<span class="line-num">721</span>   <span class="ruby-keyword">end</span>
<span class="line-num">722</span> <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-const_find" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">const_find</span><span
            class="method-args">( tclass )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Get a top-level constant from a string</p>
          
          

          
          <div class="method-source-code" id="const_find-source">
            <pre>    <span class="ruby-comment"># File lib/hobix.rb</span>
<span class="line-num">224</span> <span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">const_find</span>( <span class="ruby-identifier">tclass</span> )
<span class="line-num">225</span>     <span class="ruby-identifier">obj_class</span> = <span class="ruby-constant">Object</span>
<span class="line-num">226</span>     <span class="ruby-identifier">tclass</span>.<span class="ruby-identifier">split</span>( <span class="ruby-string">&quot;::&quot;</span> ).<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span> <span class="ruby-identifier">obj_class</span> = <span class="ruby-identifier">obj_class</span>.<span class="ruby-identifier">const_get</span>( <span class="ruby-identifier">c</span> ) }
<span class="line-num">227</span>     <span class="ruby-identifier">obj_class</span>
<span class="line-num">228</span> <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
  </section>

</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="https://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="https://ruby.github.io/rdoc/">RDoc</a> 6.1.2.1.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

